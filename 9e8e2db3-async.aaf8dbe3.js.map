{"version":3,"sources":["src/Text/demos/custom-markdown.tsx?techStack=react","src/Text/demos/common.tsx?techStack=react","docs/guide/demos/custom-ui.tsx?techStack=react","node_modules/.pnpm/@ant-design+x@1.6.0_@types+node@24.3.0_antd@5.27.1_react-dom@18.3.1_react@18.3.1__react@18.3._7brnonqsl72gvei75cnklga4ve/node_modules/@ant-design/x/es/index.js","src/Text/demos/markdown.tsx?techStack=react","node_modules/.pnpm/@antv+l7@2.23.0/node_modules/@antv/l7/es/index.js","src/index.ts"],"sourcesContent":["import '/home/runner/work/GPT-Vis/GPT-Vis/src/Text/demos/custom-markdown.tsx?watch=parent';import { CaretDownOutlined, CaretUpOutlined } from '@ant-design/icons';\nimport { Bubble, type BubbleProps } from '@ant-design/x';\nimport { ConfigProvider, GPTVis, VisText } from '@antv/gpt-vis';\nimport React from 'react';\n\nconst markdownContent = `\n<vis-text type=\"metric_name\">DAU</vis-text> 是 <vis-text type=\"metric_value\">1.23亿</vis-text>，环比昨日 <vis-text type=\"delta_value_pos\">80万</vis-text>(<vis-text type=\"ratio_value_pos\">2.3%</vis-text>)，<vis-text type=\"action_recommendation\">建议保持关注</vis-text>。\n`;\n\nconst bgStyle = {\n  display: 'grid',\n  gridGap: '20px 0',\n  background: '#f7f7f7',\n  padding: 20,\n  borderRadius: 8,\n  overflow: 'auto',\n};\n\nconst RenderMarkdown: BubbleProps['messageRender'] = (content) => (\n  <GPTVis components={{ 'vis-text': VisText }}>{content}</GPTVis>\n);\n\nexport default () => (\n  <ConfigProvider\n    components={{\n      VisText: {\n        __statics: {\n          'icon:antd-up': CaretUpOutlined,\n          'icon:antd-down': CaretDownOutlined,\n        },\n        delta_value_pos: {\n          color: '#13A8A8',\n          prefix: 'icon:antd-up',\n        },\n        delta_value_neg: {\n          color: '#FA541C',\n          prefix: 'icon:antd-down',\n        },\n        ratio_value_pos: {\n          color: '#13A8A8',\n          prefix: '↑',\n        },\n        ratio_value_neg: {\n          color: '#FA541C',\n          prefix: '↓',\n        },\n        action_recommendation: {\n          backgroundColor: 'antiquewhite',\n        },\n      },\n    }}\n  >\n    <div style={bgStyle}>\n      <Bubble\n        content={markdownContent}\n        messageRender={RenderMarkdown}\n        avatar={{\n          src: 'https://mdn.alipayobjects.com/huamei_je4oko/afts/img/A*6LRBT7rjOkQAAAAAAAAAAAAADsZ-AQ/original',\n        }}\n        variant=\"shadow\"\n        styles={{ content: { background: '#fff' } }}\n      />\n    </div>\n  </ConfigProvider>\n);\n","import '/home/runner/work/GPT-Vis/GPT-Vis/src/Text/demos/common.tsx?watch=parent';import { VisText } from '@antv/gpt-vis';\nimport { ConfigProvider, Descriptions, Space, theme } from 'antd';\nimport { usePrefersColor } from 'dumi';\nimport React from 'react';\n\nexport default () => {\n  // dumi 文档当前的主题色\n  const [color] = usePrefersColor();\n  return (\n    // 适配 antd 主题。待整体文档 demo 都适配主题后可以删除\n    // https://github.com/antvis/GPT-Vis/pull/24\n    <ConfigProvider\n      theme={{\n        algorithm: color === 'dark' ? theme.darkAlgorithm : theme.defaultAlgorithm,\n      }}\n    >\n      <Descriptions bordered column={2} size=\"small\">\n        <Descriptions.Item label=\"指标名 metric_name\">\n          <VisText type=\"metric_name\">DAU</VisText>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"指标值 metric_value\">\n          <VisText type=\"metric_value\" origin={9012334}>\n            90.1w\n          </VisText>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"其他指标 other_metric_value\">\n          <VisText type=\"other_metric_value\">30%</VisText>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"差值 delta_value\">\n          <Space>\n            <VisText type=\"delta_value_pos\">100.33</VisText>\n            <VisText type=\"delta_value_neg\">100.33</VisText>\n          </Space>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"比率 ratio_value\">\n          <Space>\n            <VisText type=\"ratio_value_pos\">30%</VisText>\n            <VisText type=\"ratio_value_neg\">30%</VisText>\n          </Space>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"贡献度 contribute_ratio\">\n          <VisText type=\"contribute_ratio\">20%</VisText>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"趋势描述 trend_desc\">\n          <VisText type=\"trend_desc\" origin={[1, 2, 6, 18, 24, 48]}>\n            趋势上涨\n          </VisText>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"维度值 dim_value\">\n          <VisText type=\"dim_value\">杭州</VisText>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"时间描述 time_desc\">\n          <VisText type=\"time_desc\">2021-10-11</VisText>\n        </Descriptions.Item>\n        <Descriptions.Item label=\"占比 proportion\">\n          <VisText type=\"proportion\">30%</VisText>\n        </Descriptions.Item>\n      </Descriptions>\n    </ConfigProvider>\n  );\n};\n","import '/home/runner/work/GPT-Vis/GPT-Vis/docs/guide/demos/custom-ui.tsx?watch=parent';import { Bubble } from '@ant-design/x';\nimport { GPTVisLite, withChartCode } from '@antv/gpt-vis';\nimport React from 'react';\nimport WeatherCard from './WeatherCard';\n\nconst markdownContent = `\n\\`\\`\\`weather\n{\n  \"locationName\": \"Hangzhou\",\n  \"temperature\": 11.4,\n  \"humidity\": 82,\n  \"wind\": 6.8,\n  \"cloudiness\": 75,\n  \"uv\": \"0.2 of 11\"\n}\n\\`\\`\\`\n\nIn Hangzhou, the current weather is as follows:\n- The temperature is 11.4°C, humidity is 82%, and wind speed is 6.8 kph.\n- There's 75% cloud cover, and the UV index is very low at 0.2 out of 11.\n- This indicates cool, humid conditions with overcast skies and minimal UV exposure.\n`;\n\nconst customRenderers = {\n  weather: WeatherCard,\n};\nconst components = {\n  code: withChartCode({\n    // register custom block renderer\n    languageRenderers: customRenderers,\n  }),\n};\n\nconst bgStyle = {\n  display: 'grid',\n  gridGap: '20px 0',\n  padding: 20,\n  borderRadius: 8,\n  overflow: 'auto',\n};\n\nexport default () => {\n  return (\n    <div style={bgStyle}>\n      <Bubble placement=\"end\" content=\"How is the weather today?\" />\n      <Bubble content={<GPTVisLite components={components}>{markdownContent}</GPTVisLite>} />\n    </div>\n  );\n};\n","export { default as version } from \"./version\";\nexport { default as Actions } from \"./actions\";\nexport { default as Attachments } from \"./attachments\";\nexport { default as Sender } from \"./sender\";\nexport { default as Bubble } from \"./bubble\";\nexport { default as Conversations } from \"./conversations\";\nexport { default as Prompts } from \"./prompts\";\nexport { default as ThoughtChain } from \"./thought-chain\";\nexport { default as Suggestion } from \"./suggestion\";\nexport { default as Welcome } from \"./welcome\";\nexport { default as XProvider } from \"./x-provider\";\nexport { default as useXChat } from \"./use-x-chat\";\nexport { default as useXAgent } from \"./use-x-agent\";\nexport { default as XStream } from \"./x-stream\";\nexport { default as XRequest } from \"./x-request\";","import '/home/runner/work/GPT-Vis/GPT-Vis/src/Text/demos/markdown.tsx?watch=parent';import { Bubble, type BubbleProps } from '@ant-design/x';\nimport { GPTVis, VisText } from '@antv/gpt-vis';\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst StyledP = styled.p`\n  font-size: 12px;\n  opacity: 0.88;\n`;\n\nconst markdownContent = `\n### 决策数量:\n<vis-text type=\"time_desc\">本月</vis-text>共产生<vis-text type=\"metric_name\">决策数量</vis-text><vis-text type=\"metric_value\">2,783</vis-text>个，环比<vis-text type=\"trend_desc\">增长</vis-text><vis-text type=\"ratio_value_pos\">15.2%</vis-text>，同比<vis-text type=\"trend_desc\">增长</vis-text><vis-text type=\"ratio_value_pos\">23.5%</vis-text>。其中，<vis-text type=\"dim_value\">营销部门</vis-text>贡献最多，占比<vis-text type=\"proportion\">38.7%</vis-text>；其次是<vis-text type=\"dim_value\">产品部门</vis-text>，占比<vis-text type=\"proportion\">27.3%</vis-text>。<vis-text type=\"dim_name\">高优先级决策</vis-text>占比<vis-text type=\"proportion\">56.2%</vis-text>，较上月<vis-text type=\"trend_desc\">上升</vis-text><vis-text type=\"delta_value_pos\">3.8</vis-text>个百分点。<vis-text type=\"metric_name\">决策数量</vis-text>呈现稳定<vis-text type=\"trend_desc\" origin=\"[1, 2, 6, 18, 24, 48]\">上升</vis-text>趋势，预计<vis-text type=\"time_desc\">下月</vis-text>将突破<vis-text type=\"metric_value\">3,000</vis-text>大关。\n\n### 决策准确率:\n<vis-text type=\"time_desc\">本月</vis-text>整体<vis-text type=\"metric_name\">决策准确率</vis-text>为<vis-text type=\"metric_value\">87.6%</vis-text>，环比<vis-text type=\"trend_desc\">下降</vis-text><vis-text type=\"delta_value_neg\">1.2</vis-text>个百分点，但仍高于年度目标<vis-text type=\"ratio_value_pos\">2.6%</vis-text>。<vis-text type=\"dim_value\">财务部门</vis-text>表现最佳，准确率达<vis-text type=\"metric_value\">94.3%</vis-text>；<vis-text type=\"dim_value\">人力资源部门</vis-text>表现欠佳，准确率为<vis-text type=\"metric_value\">76.8%</vis-text>，建议加强培训。<vis-text type=\"metric_name\">数据驱动型决策</vis-text>的准确率（<vis-text type=\"metric_value\">91.2%</vis-text>）显著高于<vis-text type=\"metric_name\">经验驱动型决策</vis-text>（<vis-text type=\"metric_value\">82.4%</vis-text>），凸显了数据分析的重要性。\n\n### 决策执行率:\n<vis-text type=\"time_desc\">本月</vis-text><vis-text type=\"metric_name\">决策执行率</vis-text>为<vis-text type=\"metric_value\">82.3%</vis-text>，环比<vis-text type=\"trend_desc\">提升</vis-text><vis-text type=\"delta_value_pos\">5.7</vis-text>个百分点，创下近6个月新高。其中，<vis-text type=\"dim_name\">高优先级决策</vis-text>执行率达<vis-text type=\"metric_value\">95.6%</vis-text>，<vis-text type=\"dim_name\">低优先级决策</vis-text>执行率仅为<vis-text type=\"metric_value\">68.7%</vis-text>。<vis-text type=\"dim_value\">技术部门</vis-text>的执行率最高，达<vis-text type=\"metric_value\">91.2%</vis-text>；<vis-text type=\"dim_value\">市场部门</vis-text>最低，为<vis-text type=\"metric_value\">74.5%</vis-text>。建议关注<vis-text type=\"dim_value\">市场部门</vis-text>的决策执行障碍，提供必要支持。\n\n### 决策收益:\n<vis-text type=\"time_desc\">本月</vis-text><vis-text type=\"metric_name\">决策收益</vis-text>带来的总收益为<vis-text type=\"metric_value\">1,275</vis-text>万元，同比增长<vis-text type=\"ratio_value_pos\">31.8%</vis-text>，超出预期<vis-text type=\"ratio_value_pos\">18.6%</vis-text>。<vis-text type=\"dim_name\">产品决策</vis-text>贡献最大，占总收益的<vis-text type=\"proportion\">42.3%</vis-text>；其次是<vis-text type=\"dim_name\">营销决策</vis-text>，占<vis-text type=\"proportion\">27.6%</vis-text>。<vis-text type=\"dim_name\">高风险决策</vis-text>的平均收益（<vis-text type=\"metric_value\">87.3</vis-text>万元/个）显著高于<vis-text type=\"dim_name\">低风险决策</vis-text>（<vis-text type=\"metric_value\">23.1</vis-text>万元/个）。建议在风险可控的前提下，适当增加<vis-text type=\"dim_name\">高收益潜力</vis-text>的决策比例。\n\n### 数据质量:\n<vis-text type=\"time_desc\">本月</vis-text><vis-text type=\"metric_name\">数据质量</vis-text>评分为<vis-text type=\"metric_value\">88.5</vis-text>分（满分100分），环比提升<vis-text type=\"trend_desc\">提升</vis-text><vis-text type=\"delta_value_pos\">2.3</vis-text>分。<vis-text type=\"metric_name\">数据完整性</vis-text>（<vis-text type=\"metric_value\">93.2</vis-text>分）和<vis-text type=\"metric_name\">及时性</vis-text>（<vis-text type=\"metric_value\">91.7</vis-text>分）表现优异，而<vis-text type=\"metric_name\">准确性</vis-text>（<vis-text type=\"metric_value\">84.6</vis-text>分）和<vis-text type=\"metric_name\">一致性</vis-text>（<vis-text type=\"metric_value\">82.5</vis-text>分）仍有提升空间。<vis-text type=\"dim_value\">财务数据</vis-text>质量最高，达<vis-text type=\"metric_value\">95.3</vis-text>分；<vis-text type=\"dim_value\">用户行为数据</vis-text>质量最低，为<vis-text type=\"metric_value\">81.2</vis-text>分。建议优化<vis-text type=\"dim_value\">用户行为数据</vis-text>采集流程，提高<vis-text type=\"metric_name\">数据准确性</vis-text>和<vis-text type=\"metric_name\">一致性</vis-text>。\n\n`;\n\nconst bgStyle = {\n  display: 'grid',\n  gridGap: '20px 0',\n  background: '#f7f7f7',\n  padding: 20,\n  borderRadius: 8,\n  overflow: 'auto',\n};\n\nconst RenderMarkdown: BubbleProps['messageRender'] = (content) => (\n  <GPTVis components={{ 'vis-text': VisText, p: StyledP }}>{content}</GPTVis>\n);\n\nexport default () => (\n  <div style={bgStyle}>\n    <Bubble\n      content={markdownContent}\n      messageRender={RenderMarkdown}\n      avatar={{\n        src: 'https://mdn.alipayobjects.com/huamei_je4oko/afts/img/A*6LRBT7rjOkQAAAAAAAAAAAAADsZ-AQ/original',\n      }}\n      variant=\"shadow\"\n      styles={{ content: { background: '#fff' } }}\n    />\n  </div>\n);\n","// src/index.ts\nimport Source from \"@antv/l7-source\";\nexport * from \"@antv/l7-component\";\nexport * from \"@antv/l7-core\";\nexport * from \"@antv/l7-layers\";\nexport * from \"@antv/l7-maps\";\nexport * from \"@antv/l7-scene\";\nexport * from \"@antv/l7-utils\";\nexport * from \"./version\";\nexport {\n  Source\n};\n","/********** export chart **********/\nexport * from './export';\n\n/********** export types **********/\nexport * from './types';\n\n/********** export GPTVis **********/\nexport { withChartCode, withDefaultChartCode } from './ChartCodeRender';\nexport type { CodeBlockComponent, ErrorRender, WithChartCodeOptions } from './ChartCodeRender/type';\nexport { default as ConfigProvider, type ConfigProviderProps } from './ConfigProvider';\nexport { default as GPTVis, type GPTVisProps } from './GPTVis';\nexport { default as GPTVisLite, useEventPublish, type GPTVisLiteProps } from './GPTVis/Lite';\n\nexport { default as version } from './version';\n"],"names":[],"mappings":"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"}