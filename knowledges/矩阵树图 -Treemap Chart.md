## 图表属性

- 名称：矩阵树图
- 别名：树图，矩形树图，英文名：Treemap
- 形状：矩形
- 图表类别：统计图表
- 图表功能：对比、成分、排名

## 基础概念

矩阵树图是一种用于显示数据分层结构的图表，它通过将数据分级嵌套在矩形区域中来展示层级关系。每个矩形代表一个类别，矩形的大小对应于该类别的数值大小。矩阵树图非常适合可视化多个类别之间的比例，尤其在数据量较大时，可以帮助快速分析数据的重要性或权重。

## 适用场景

- 显示具有层级结构的数据，例如公司组织结构、目录文件系统等。
- 对多个分类项目进行对比，展示各类别在整体中的占比。
- 分析各类目之间的关系、比例以及子类别对父类别的贡献。

## 不适用场景

- 展示时间序列数据或连续变化的数据。
- 数据项之间没有层级关系或差异较小时，矩形大小可能会过于相近，难以区分。

## 图表用法

### 图表属性

```typescript
type TreeNode = {
  name: string;
  value: number;
  children: TreeNode[];
};

type Treemap = {
  type: 'treemap';
  data: TreeNode[];
};
```

### 数据要求

- type：图表的类型，必填，文本类型，值必须为 "treemap"。
- data：图表的数据，必填，数组对象类型，包含多个嵌套对象；
  - name：分类名称，必填，文本类型；
  - value：分类的数值大小，必填，数值类型；
  - children：子分类列表，可选，数组对象类型；

## 使用示例

1. 用矩阵树图展示一个公司的部门及其员工人数，如公司有两个部门，A 部门 100 人，B 部门 80 人，A 部门分为 A1、A2、A3 三个小组，人数分别为 40、30 和 30；B 部门分为 B1、B2 两个小组，人数分别为 50 和 30。

```json
{
  "type": "treemap",
  "data": [
    {
      "name": "A",
      "value": 100,
      "children": [
        { "name": "A1", "value": 40 },
        { "name": "A2", "value": 30 },
        { "name": "A3", "value": 30 }
      ]
    },
    {
      "name": "B",
      "value": 80,
      "children": [
        { "name": "B1", "value": 50 },
        { "name": "B2", "value": 30 }
      ]
    }
  ]
}
```

2. 用矩阵树图展示产品销售情况的数据 [{ "name": "产品 A", "sales": 500, "children": [{ "name": "子产品 A1", "sales": 200 }, { "name": "子产品 A2", "sales": 300 }]}, { "name": "产品 B", "sales": 400 }]。

```json
{
  "type": "treemap",
  "data": [
    {
      "name": "产品A",
      "value": 500,
      "children": [
        { "name": "子产品A1", "value": 200 },
        { "name": "子产品A2", "value": 300 }
      ]
    },
    { "name": "产品B", "value": 400 }
  ]
}
```

3. 采用矩阵树图展示各种水果销售量: [{ "苹果": 800, "children": [{ "红富士": 400 }, { "黄元帅": 400 }]}, { "橙子": 600 }, { "香蕉": 500 }]。

```json
{
  "type": "treemap",
  "data": [
    {
      "name": "苹果",
      "value": 800,
      "children": [
        {
          "name": "红富士",
          "value": 400
        },
        {
          "name": "黄元帅",
          "value": 400
        }
      ]
    },
    {
      "name": "橙子",
      "value": 600
    },
    {
      "name": "香蕉",
      "value": 500
    }
  ]
}
```
